(this["webpackJsonpcalengi-webato"]=this["webpackJsonpcalengi-webato"]||[]).push([[0],{38:function(e,t,n){e.exports={messageRow:"MessageRow_messageRow__3oM2C"}},41:function(e,t,n){e.exports={chat:"Chat_chat__h9t69"}},42:function(e,t,n){e.exports={app:"App_app__2Z2j9"}},48:function(e,t,n){},8:function(e,t,n){e.exports={form:"Input_form__2mpaX",input:"Input_input__28bBu",button:"Input_button__3PMld",sendImg:"Input_sendImg__2sGB7"}},90:function(e,t){},98:function(e,t,n){"use strict";n.r(t);var c,a=n(0),s=n.n(a),o=n(11),r=n.n(o),i=(n(48),n(14)),u=n(1),l=function(e){return Object(u.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:10,padding:10,flexGrow:1,overflow:"auto"},children:e.children})};!function(e){e.INCOMING="INCOMING",e.OUTCOMING="OUTCOMING"}(c||(c={}));var p=n(38),O=n.n(p),d=function(e){var t=e.direction;return Object(u.jsx)("div",{className:O.a.messageRow,style:{alignSelf:t===c.INCOMING?"flex-start":"flex-end",borderRadius:t===c.INCOMING?"3px 15px 15px 15px":"15px 3px 15px 15px"},children:e.children})},b="ADD_INCOMING",f="ADD_OUTCOMING",j=n(4),_=n(8),g=n.n(_),m=function(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),c=n[0],s=n[1],o=Object(j.b)();return Object(u.jsxs)("form",{className:g.a.form,onSubmit:function(e){e.preventDefault(),e.stopPropagation(),""!==c&&(o({type:f,payload:c}),s(""))},children:[Object(u.jsx)("input",{className:g.a.input,placeholder:"type here",autoFocus:!0,value:c,onChange:function(e){return s(e.target.value)}}),Object(u.jsx)("button",{className:g.a.button,type:"submit",children:Object(u.jsx)("img",{src:"./sendLogo.png",alt:"send button",className:g.a.sendImg})})]})},x=n(40),N=n(13),h=n.n(N),v=n(54).SocketClient,I=Object({NODE_ENV:"production",PUBLIC_URL:"/chat-bot",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENDPOINT_BASE_URL:"https://endpoint-trial.cognigy.ai",REACT_APP_ENDPOINT_URL_TOKEN:"c62c5fbea632152a4e3265f21862b91e21eacca1f135a1a07b031a0c6f5c6274"}),C=I.REACT_APP_ENDPOINT_BASE_URL,E=I.REACT_APP_ENDPOINT_URL_TOKEN,T=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new v(C,E,{forceWebsockets:!0}),e.next=3,t.connect();case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(e){return e.messages},R=n(41),P=n.n(R),S=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],s=t[1],o=Object(j.b)(),r=Object(a.useRef)(null),p=Object(j.c)(y);return Object(a.useEffect)((function(){T().then((function(e){s(e),e.on("output",(function(e){var t;o((t=e.text,{type:b,payload:t}))}))}))}),[]),Object(a.useEffect)((function(){var e=p[p.length-1];e&&e.type===c.OUTCOMING&&n.sendMessage(e.title),r.current&&r.current.scrollIntoView()}),[p]),Object(u.jsxs)("div",{className:P.a.chat,children:[Object(u.jsxs)(l,{children:[null===p||void 0===p?void 0:p.map((function(e){return Object(u.jsx)(d,{direction:e.type,children:e.title},e.id)})),Object(u.jsx)("div",{ref:r})]}),Object(u.jsx)(m,{})]})},M=n(42),w=n.n(M);function A(){return Object(u.jsx)("div",{className:w.a.app,children:Object(u.jsx)(S,{})})}var D=n(43),G=n(23),U=n(3),L=function(e){return e+1},B={messages:[]},k=Object(D.a)((function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case b:return Object(U.a)(Object(U.a)({},n),{},{messages:[].concat(Object(G.a)(n.messages),[{id:L((null===(e=n.messages[n.messages.length-1])||void 0===e?void 0:e.id)||0),title:a.payload,type:c.INCOMING}])});case f:return Object(U.a)(Object(U.a)({},n),{},{messages:[].concat(Object(G.a)(n.messages),[{id:L((null===(t=n.messages[n.messages.length-1])||void 0===t?void 0:t.id)||0),title:a.payload,type:c.OUTCOMING}])});default:return Object(U.a)({},n)}}),B);r.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(j.a,{store:k,children:Object(u.jsx)(A,{})})}),document.getElementById("root"))}},[[98,1,2]]]);
//# sourceMappingURL=main.5c541a45.chunk.js.map